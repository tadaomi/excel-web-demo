# Excel価格管理システム

商材の価格改定・見積作成をWeb上で効率化するシステムです。

## 機能

- **Excelファイルインポート**: Excel形式のファイルから商品データを一括インポート
- **商品管理**: 商品データの表示、編集、フィルタリング、検索
- **データ統合**: 重複した商品データの自動検出と統合
- **見積作成**: 商品を選択して見積書を作成
- **Excelエクスポート**: 商品データや見積データをExcel形式でダウンロード

## 技術スタック

- Next.js 15 (App Router)
- TypeScript
- Tailwind CSS
- Next.js Middleware - ベーシック認証
- SheetJS (xlsx) - Excel読み書き
- React Dropzone - ファイルアップロード
- Lucide React - アイコン
- date-fns - 日付処理

## セットアップ

```bash
# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev

# ビルド
npm run build

# 本番サーバーの起動
npm start
```

## ベーシック認証設定

このシステムはベーシック認証により保護されています。

### 開発環境

`.env.local`ファイルで認証情報を設定：

```bash
BASIC_AUTH_USER=admin
BASIC_AUTH_PASSWORD=your-password
```

### 本番環境（Vercel）

Vercelダッシュボードで以下の環境変数を設定：

- `BASIC_AUTH_USER`: 認証ユーザー名
- `BASIC_AUTH_PASSWORD`: 認証パスワード

## Vercelへのデプロイ

1. GitHubリポジトリにプッシュ
2. Vercelでプロジェクトをインポート
3. **環境変数設定**: Vercelダッシュボードで`BASIC_AUTH_USER`と`BASIC_AUTH_PASSWORD`を設定
4. 自動的にデプロイが実行されます
5. デプロイ後、サイトアクセス時にベーシック認証ダイアログが表示されます

## 使い方

1. **データインポート**: 「インポート」ページでExcelファイルをアップロード
2. **商品管理**: 「商品管理」ページで価格や情報を編集
3. **見積作成**: 「見積作成」ページで顧客向けの見積を作成
4. **データエクスポート**: 「エクスポート」ページでExcel形式でダウンロード

## データ形式

### インポート用Excel形式

システムでは以下の列ヘッダーを持つExcelファイルをインポートできます：

| 列名 | 説明 | 必須 | データ型 | 例 |
|------|------|------|----------|-----|
| 商品名 | 商品の名前 | ✅ | 文字列 | ボールペン（黒） |
| カテゴリ | 商品のカテゴリ | ✅ | 文字列 | 文具 |
| 基本価格 | 税抜き価格 | ✅ | 数値 | 150 |
| 割引率 | 割引率（％） | ❌ | 数値 | 10 |
| 税率 | 消費税率（小数点） | ✅ | 数値 | 0.1 |

**サンプルデータ:**

| 商品名 | カテゴリ | 基本価格 | 割引率 | 税率 |
|--------|----------|----------|--------|------|
| ボールペン（黒） | 文具 | 150 | 10 | 0.1 |
| デスクライト LED | 家電 | 3500 | 20 | 0.1 |

詳細な作成方法は `sample-data.md` を参照してください。

## 注意事項

- データはブラウザのローカルストレージに保存されます
- デモサイトのため、ブラウザのデータをクリアすると消えます
- ファイルサイズは10MBまで対応
